# CrypyedManga URL Rewrites
<IfModule mod_rewrite.c>
RewriteEngine On

# Admin direct access
RewriteRule ^admin(?:/(.*))?$ admin/$1 [L,QSA]

# Public SEO routes
RewriteRule ^mangas/?$ mangas.php [L,QSA]
RewriteRule ^manga/([a-z0-9\-]+)/?$ manga.php?slug=$1 [L,QSA]
RewriteRule ^chapter/([a-z0-9\-]+)/([^/]+)/?$ chapter.php?slug=$1&num=$2 [L,QSA]
RewriteRule ^about/?$ about.php [L,QSA]
RewriteRule ^contact/?$ contact.php [L,QSA]
RewriteRule ^login/?$ login.php [L,QSA]
RewriteRule ^register/?$ register.php [L,QSA]
RewriteRule ^logout/?$ logout.php [L,QSA]
RewriteRule ^bookmarks/?$ bookmarks.php [L,QSA]
RewriteRule ^history/?$ history.php [L,QSA]

# Fallback to index
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule ^ index.php [L]
</IfModule>

# Deny direct access to scripts
RewriteRule ^scripts/ - [F]

<IfModule mod_expires.c>
  ExpiresActive On
  ExpiresByType image/jpg "access plus 30 days"
  ExpiresByType image/jpeg "access plus 30 days"
  ExpiresByType image/png "access plus 30 days"
  ExpiresByType image/webp "access plus 30 days"
  ExpiresByType image/gif "access plus 30 days"
</IfModule>